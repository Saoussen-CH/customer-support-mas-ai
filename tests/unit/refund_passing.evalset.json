{
  "eval_set_id": "refund_passing_test",
  "description": "PASSING test cases for refund workflow - orders that should be approved. All test cases include both order_id and reason as required by the workflow.",
  "eval_cases": [
    {
      "eval_id": "refund_delivered_order_defective_item",
      "description": "Delivered order within 30-day return window - defective item (ORD-67890)",
      "conversation": [
        {
          "user_content": {
            "parts": [
              {
                "text": "I want to request a refund for my order ORD-67890. The headphones have defective audio quality."
              }
            ],
            "role": "user"
          },
          "final_response": {
            "parts": [
              {
                "text": "refund"
              }
            ],
            "role": "model"
          },
          "intermediate_data": {
            "tool_uses": [
              {
                "name": "PreloadMemoryTool",
                "args": {}
              },
              {
                "name": "refund_workflow",
                "args": {
                  "request": "I want to request a refund for my order ORD-67890. The headphones have defective audio quality."
                }
              }
            ]
          }
        }
      ]
    },
    {
      "eval_id": "refund_in_transit_wrong_item",
      "description": "Order in transit eligible for cancellation - wrong item ordered (ORD-12345)",
      "conversation": [
        {
          "user_content": {
            "parts": [
              {
                "text": "Can I cancel my order ORD-12345? I ordered the wrong laptop model."
              }
            ],
            "role": "user"
          },
          "final_response": {
            "parts": [
              {
                "text": "cancel"
              }
            ],
            "role": "model"
          },
          "intermediate_data": {
            "tool_uses": [
              {
                "name": "PreloadMemoryTool",
                "args": {}
              },
              {
                "name": "refund_workflow",
                "args": {
                  "request": "Can I cancel my order ORD-12345? I ordered the wrong laptop model."
                }
              }
            ]
          }
        }
      ]
    },
    {
      "eval_id": "refund_processing_order_change_mind",
      "description": "Processing order eligible for cancellation - customer changed mind (ORD-22222)",
      "conversation": [
        {
          "user_content": {
            "parts": [
              {
                "text": "Please cancel order ORD-22222, I need to modify my purchase."
              }
            ],
            "role": "user"
          },
          "final_response": {
            "parts": [
              {
                "text": "cancel"
              }
            ],
            "role": "model"
          },
          "intermediate_data": {
            "tool_uses": [
              {
                "name": "PreloadMemoryTool",
                "args": {}
              },
              {
                "name": "refund_workflow",
                "args": {
                  "request": "Please cancel order ORD-22222, I need to modify my purchase."
                }
              }
            ]
          }
        }
      ]
    },
    {
      "eval_id": "refund_delivered_damaged_item",
      "description": "Delivered order with damaged item - within return window (ORD-67890)",
      "conversation": [
        {
          "user_content": {
            "parts": [
              {
                "text": "I received order ORD-67890 but it arrived damaged. I need a refund."
              }
            ],
            "role": "user"
          },
          "final_response": {
            "parts": [
              {
                "text": "refund"
              }
            ],
            "role": "model"
          },
          "intermediate_data": {
            "tool_uses": [
              {
                "name": "PreloadMemoryTool",
                "args": {}
              },
              {
                "name": "refund_workflow",
                "args": {
                  "request": "I received order ORD-67890 but it arrived damaged. I need a refund."
                }
              }
            ]
          }
        }
      ]
    },
    {
      "eval_id": "refund_sequential_gates_pass",
      "description": "Test that all 3 sequential gates pass: validate → eligibility → process (ORD-12345)",
      "conversation": [
        {
          "user_content": {
            "parts": [
              {
                "text": "Process a refund for order ORD-12345 due to wrong product received"
              }
            ],
            "role": "user"
          },
          "final_response": {
            "parts": [
              {
                "text": "success"
              }
            ],
            "role": "model"
          },
          "intermediate_data": {
            "tool_uses": [
              {
                "name": "PreloadMemoryTool",
                "args": {}
              },
              {
                "name": "refund_workflow",
                "args": {
                  "request": "Process a refund for order ORD-12345 due to wrong product received"
                }
              }
            ]
          }
        }
      ]
    }
  ]
}